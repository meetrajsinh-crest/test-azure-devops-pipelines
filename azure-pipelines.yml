# Maven
# Build your Java project and run tests with Apache Maven.
# Add steps that analyze code, save build artifacts, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/java

trigger:
- main

pool:
  vmImage: ubuntu-latest

steps:
- task: AzureRmWebAppDeployment@4
  inputs:
    ConnectionType: 'PublishProfile'
    PublishProfilePath: '$(System.DefaultWorkingDirectory)/**/*.pubxml'
    PublishProfilePassword: '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'
    packageForLinux: '$(System.DefaultWorkingDirectory)/**/*.zip'
- task: Maven@3
  inputs:
    mavenPomFile: 'pom.xml'
    mavenOptions: '-Xmx3072m'
    javaHomeOption: 'JDKVersion'
    jdkVersionOption: '1.8'
    jdkArchitectureOption: 'x64'
    publishJUnitResults: true
    testResultsFiles: '**/surefire-reports/TEST-*.xml'
    goals: 'package'
